# 第七章 输入输出流

1. 流概念
2. 字节流
3. 字符流
4. 文件处理

## 第一节、数据流的基本概念

流是一组有顺序的、有起点和终点的数据构成的集合。来完成数据的输入和输出。Java的IO包中流被分成不同的层次 。

![](F:\自考\Java语言程序设计（一）\img\2020-07-06_094236.jpg)

### 一、输入数据流（输入字节流）

`InputStream`类的常用方法

- int read()
- int read(byte[] b)
- int read(byte[] b, int off, int `len`)
- long skip(long n)  void close()    int `available()`
- boolean `markSupported()`
- void mark(int `readlimite`)
- void reset()

### 二、输出数据流（输出字节流）

`OutputStream`类的常用方法：

- void write(int b)
- void write(byte b[])
- void write(byte b[], int off, int `len`)
- void flush()
- void close()

## 第二节 基本字节数据流类

### 一、文件数据流 

`FileInputStream`和 `FileOutputStream`类实现对文件进行读写操作。 

不支持方法mark()和 reset() 。

```java
例, FileInputStream读文件操作:
读文件数据并显示,部分代码。
FileInputStream in = new FileInputStream("myFile.dat");
while(in.available() > 0)
System.out.print(in.read()+"");
in.close() 
```

###  二、过滤器数据流 

1. 缓冲数据流 

在基础字节流的基础上建立一个缓冲区,来提高字节流处理的效率。 

`BufferedInputstream(Inputstream in) `

`BufferedInputStream(InputStream in, int size) `

 `BufferedOutputStream(OutputStream out) `

`BufferedOutputStream(OutputStream out, int size )`

` read()、 write()、flush() `

2. 数据数据流——`DataInputStream`类 

`byte read Byte() `

`long readLong( )`

`double read double() `

`boolean read boolean `

`String readUTF() `

`int readInt() `

`float readFloat()` 等读取基本类型数据的方法

3. 数据数据流——`DataOutputStream`类 

`void write Byte(int aByte )`

`void writeLong(long aLong) `

`void write Double(double a double) `

`void write Boolean(boolean aBool) `

`void writeUTF(String aString) `

`void writeInt(int anInt) `

`void writeFloat(float aFloat)`等写基本类型数据方法

###  三、对象流 

将对象信息入文件或从文件读取对象信息。 

// 向文件写对象流创建 

`FileOutputStream f = new FileOutputStream("date.ser");`

`ObjectOutputStream s = new ObjectOutputStream(f); `

// 从文件读对象流创建 

`FileInputStream f = new FileInputStream("date.ser");`

`ObjectInputStream s = new ObjectInputStream(f); `

### 四、序列化 

- 概念:对象信息长久保存到文件叫序列化,反之叫反序列化。 

- 例 

  ```java
  public class Student implements Serializable {
  	String name; 
  		public Student(String name) {
  			this name name;
          }
  }
  Student stu = new Student("LiMing"); --写对象
  FileOutputStream fb = new FileOutputStream("data.ser");
  ObjectOutputStream so = new ObjectOutputStream(fb);
  so.writeObject(stu);
  so.close();
  
  FileInputStream fi = new FileInputStream("data.ser"); --读出对象
  ObjectInputStream si = new ObjectInputStream(fi);
  stu=(Student)si.readObject();
  si.close();
  
  ```