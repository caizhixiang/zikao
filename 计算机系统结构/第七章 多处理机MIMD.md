# 第七章 多处理机MIMD

## 一、多处理机的概念、问题和硬件结构

### 1、多处理机的基本概念

两台以上处理机,共享I/O系统,机间经共享或高速通信网络通信，在统一操作系统控制下,协同求解大而复杂问题的计算机系统。

 MIMD,多指令流多数据流

 作业或任务级并行

```
Hadoop:  GFS  ----  HDFS  分布式系统
		MapReduce ---- 并行模型，支持java
		BigTable
```

### 2、 多处理机要解决的技术问题

1. 硬件结构上如何解决好处理机、存贮器模块及I/O子系统之间的互连。
2. 如何最大限度地开发系统的并行性,以实现多处理机的各级的全面并行。
3. 如何选择分割任务和子任务的大小, 即任务的粒子小 ，使并行度高， 而辅助开销小。
4.  如何协调好多处理机中各并行执行的任务和进程间的同步问题。
5. 如何将各个任务分配到一个或多个处理机上, 解决好处理机调度、任务调度和资源分配问题,防止死锁。
6. 一旦某个处理机发生故障,如何对系统进行重新组织而不使其瘫痪。

### 3、 多处理机要解决的技术问题

1. 多处理机的结构
2. 机间互连
3. 并行算法   ---  `MPI`
4. 并行语言
5. 编译支持
6. 操作系统支持

### 4、 多处理机的硬件结构   ——   紧耦合

1. 紧耦合和松耦合

​		**紧耦合多处理机** ：通过共享主存来实现处理机间通信的，其通信速率受限于主存的频宽。但是,由于各处理机与主存经互连网络连接,系统中处理机数就受限于互连网络带宽及多台处理机同时访问主存发生冲突的概率。

松耦合多处理机:

2. 机间互连形式

3. 存储器的组织

#### （1） 紧耦合多处理机

​		就个处理机而言,有同构对称型和异构非对称型。

​		用于并行任务时,常采用同构对称型的紧耦合多处理机。

​		采用非对称IO互连,即连到一台处理机的设备不能被另外一台处理机直接访问。

#### （2）紧耦合多处理机：构形

![](F:\自考\计算机系统结构\img\2020-06-01_114036.jpg)

#### （3）非对称I/O子系统的多处理机

![](F:\自考\计算机系统结构\img\2020-06-01_115223.jpg)

#### （4）采用冗余连接的非对称I/O子系统

![](F:\自考\计算机系统结构\img\2020-06-01_115427.jpg)

### 5、 多处理机的硬件结构   ——  松耦合

1. 紧耦合和松耦合

   ​	紧耦合多处理机

   ​	**松耦合处理机**：每台处理机都有一个容量较大的局部存储器,用于存储经常用的指令和数据,以减少紧耦合系统中的访存主存冲突。不同处理机间通**通道互连/消息传递系统**来交换信息。粗粒度并行。

2. 机间互连形式

3. 存储器的组织

#### （1）松耦合多处理机构形：非层次性和层次性

- 通过消息传递系统的松耦合非层次型多处理机结构

![](F:\自考\计算机系统结构\img\2020-06-01_132811.jpg)

- 松耦合层次型总线式结构    Cm * 多处理机构

## 二、紧耦合多处理机多Cache 的一致性问题

## 三、多处理机的并行性和性能

## 四、多处理机的操作系统

## 五、多处理机的发展

