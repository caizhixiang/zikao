# 第二章 网络应用

![](F:\自考\计算机网络原理\img\2020-05-23_202751.jpg)

## 第一节 计算机网络应用体系结构

 三种类型:

1. 客户/服务器(C/S)结构
   - 最主要的特征是通信只在客户与服务器之间进行,客户与客户之间不进行直接通信。

2. `P2P`(Peer to peer )结构
   - 每个对等端都同时具备C/S应用的客户与服务器的特征,是一个服务器与客户的结合体,对等端之间直接通信。

3. 混合结构
   - 有中心服务器的存在,又有对等端(客户)间的直接通信

## 第二节 网络应用通信基本原理

 C/S通信基本原理:服务器端运行的是服务器进程,被动地等待客户请求服务;客户端运行的是客户进程,主动发起通信,请求服务器进程提供服务。应用进程间遵循应用层**协议**交换应用层报文。

![](F:\自考\计算机网络原理\img\2020-06-03_222828.jpg)

## 第三节 域名系统(`DNS`)

```
DNS  -- UDP分配端口号是 53
POP3 --- TCP分配端口号  110
```



### 一、层次化域名空间

 层次树状结构的命名方法：

1. 国家顶级域名`nTLD`

2. 通用顶级域名`gTLD`

3. 基础结构域名。

   ![](F:\自考\计算机网络原理\img\2020-06-03_223942.jpg)

### 二、域名服务器

1. 域名解析

   将域名映射为`IP`地址的过程。

2. 域名服务器

   为了实现域名解析,需要建立分布式数据库,存储网络中域名与IP地址的映射关系数据,这些数据库存储在域名服务器上,域名服务器根据用户的请求提供域名解析服务。

3. 域名服务器分类:
   - 根域名服务器
   - 顶级域名服务器
   - 权威域名服务器
   - 本地域名服务器

###  三、域名解析过程

1. 递归查询

   代替查询主机或其他域名服务器,进行进一步的域名查询,并将最终解析结果发送给查询主机或服务器。

2. 迭代查询

   只是将下一步要查询的服务器告知查询主机或服务器。

![](F:\自考\计算机网络原理\img\2020-06-03_225902.jpg)

![](F:\自考\计算机网络原理\img\2020-06-03_230404.jpg)

## 第四节 万维网应用

### 一、万维网的应用结构

- Web服务器
- 浏览器
- 超文本传输协议(HTTP)

![](F:\自考\计算机网络原理\img\2020-06-04_212839.jpg)

### 二、HTTP

- 概念：超文本传输协议,定义浏览器如何向Web服务器 发送请求以及Web服务器如何向浏览器进行响应。

- 版本：HTTP/1.0和HTTP/1.1

- HTTP连接：非持久连接,持久连接

![](F:\自考\计算机网络原理\img\2020-06-04_213442.jpg)

![](F:\自考\计算机网络原理\img\2020-06-04_214220.jpg)

-  HTTP报文:

   请求报文——从客户向服务器发送请求报文。

   响应报文——从服务器到客户的回答。

![](F:\自考\计算机网络原理\img\2020-06-04_214649.jpg)

-  HTTP请求报文:

   HTTP典型的请求方法有GET、HEAD、POST、OPTION 、PUT等。

  1. get:请求读取由URL所标识的信息.。
  2. HEAD:请求读取由URL所标识的信息的首部,无须在响应报文中包含对象。
  3. POST:给服务器添加信息(例如,注释)。
  4. OPTION :请求一些选项的信息。
  5. PUT:在指明的URL下存储一个文档。

![](F:\自考\计算机网络原理\img\2020-06-04_215126.jpg)



- HTTP响应报文

  HTTP状态码分类

  | 状态码 | 作用         | 描述                              |
  | ------ | ------------ | --------------------------------- |
  | `1xx`  | 信息提示     | 通告信息,可能还需要进一步交互     |
  | `2xx`  | 成功         | 成功完成客户请求的操作,并进行响应 |
  | `3xx`  | 重定向       | 表示资源已移走,需要向新URL发请求  |
  | `4xx`  | 客户端错误   | 由于客户端请求错误,无法成功响应   |
  | `5xx`  | 服务器端错误 | 由于服务器端错误,无法成功响应     |

### 三、Cookie

Cookie 中文名称为小型文本文件,指某些网站为了辨别用户身份、进行会话跟踪而储存在用户本地终端上的数据。

**弥补了HTTP协议无状态性的不足,有利于进行用户跟踪并提供针对性的服务,但也带来一些安全问题。**

![](F:\自考\计算机网络原理\img\2020-06-04_220036.jpg)

## 第五节 Internet电子邮件

### 一、 电子邮件系统结构

电子邮件系统主要包括邮件服务器、简单邮件传输协议(SMTP)、用户代理和邮件读取协议等。

![](F:\自考\计算机网络原理\img\2020-06-04_220526.jpg)

### 二、 SMTP

SMTP是Internet 电子邮件中核心**应用层协议**,实现邮件服务器之间或用户代理到邮件服务器之间的邮件传输。SMTP使用传输层**TCP**实现可靠数据传输,**端口号25**。

SMTP通过3个阶段的应用层交互完成邮件的传输,分别是**握手阶段**、**邮件传输阶段**和**关闭阶段**。

SMTP的基本交互方式是SMTP客户端发送命令,命令后面可能携带参数,SMTP服务器对命令进行应答。

![](F:\自考\计算机网络原理\img\2020-06-04_221114.jpg)

###  三、电子邮件格式与MIME

1. 电子邮件包括首部、空白行、主体3部分。

    to,Subject ,Cc,from,date,Reply -to等关键词

2. MIME(多用途互联网邮件扩展)
3.  将非7位ASCII 码文本内容转换为7位ASCII 码文本内容,然后再利用SMTP进行传输。

![](F:\自考\计算机网络原理\img\2020-06-04_221525.jpg)

###  四、邮件读取协议

1. 第三版的邮局协议

` ( Post Office Protocol-Version 3 , POP3 )`

2. 互联网邮件访问协议

` ( Internet Mail Access Protocol IMAP )`

3. HTTP 

## 第六节 FTP

 文件传送协议(FTP):在互联网的两个主机间实现文件互传的应用层协议。

 C/S模式,采用**控制连接**(21端口)传输控制命令,**数据连接**(20端口)传输文件内容

![](F:\自考\计算机网络原理\img\2020-06-04_222227.jpg)

## 第七节 `P2P`应用

`P2P`应用的优势:充分聚集利用了端系统(对等方主机)的计算能力以及网络传输带宽,对服务器的依赖很小。

![](F:\自考\计算机网络原理\img\2020-06-04_222718.jpg)

## 第八节 Socket编程基础

 Socket 接口模型：

 网络应用进程通信时需要通过`API`接口请求底层协议的服务。可以创建数据报类型套接字`SOCK_DGRAM` 、流式套接字`SOCK_STREAM `和原始套接字SOCK_RAW

![](F:\自考\计算机网络原理\img\2020-06-04_223358.jpg)

```
UDP： 无连接服务，不需要事先建立连接，不保证可靠性。成本低，速度快，效率高。
TCP：面向连接的服务，通信双方在传输数据前，需要建立连接，可靠，占用资源，效率低。
```

![](F:\自考\计算机网络原理\img\2020-06-04_223949.jpg)

![](F:\自考\计算机网络原理\img\2020-06-04_224338.jpg)

##  ★本章小结

1. 客户/服务器、`P2P`两种网络应用体系结构及各自的特点;

2. `DNS`的概念和工作原理;

3. 万维网应用结构和HTTP协议;

4. 电子邮件系统结构和协议。